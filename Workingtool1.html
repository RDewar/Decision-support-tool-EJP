<!DOCTYPE html>
<meta charset="utf-8">
<div class="row" style="width: 1012px; height: 130px; background-color: white;">
    <div class="column">
        <a href="https://ec.europa.eu/programmes/horizon2020/en/h2020-section/joint-programming-initiatives"
            target="_blank">
            <img style="width: 50%; max-height: 50%;"
                src="https://europa.eu/european-union/sites/europaeu/files/docs/body/flag_yellow_high.jpg"
                alt="European Union"></a></div>
    <div class="column">
        <a href="https://onehealthejp.eu/" target="_blank"><img style="width: 50%; max-height: 50%;"
                src="https://onehealthejp.eu/wp-content/uploads/2020/01/One-Health-EJP-logo-3-1024x549.jpg"
                alt="One Health EJP">
        </a></div>
    <div class="column">
        <a href="https://onehealthejp.eu/jip-cohesive/" target="_blank"><img style="width: 50%; max-height: 50%;"
                src="https://www.rivm.nl/sites/default/files/2019-01/logo_cohesive.jpg" alt="COHESIVE">
        </a></div>


</div>

<div class="popup" onclick="caveats_func()">Purpose, Scope and Caveats
    <span class="popuptext" id="myPopup">
        <h1 class="hed">The EJP Secision Support Tool for One-Health Risk Assessment</h1>
        <h2>Purpose, scope and caveats</h2>
        <p>This tool is designed to help those who are new to the fields of risk assessment or One-Health find useful
            existing resources in a range of sub-disciplines.</p>
        <p>This tool will:</p>
        <ul>
            <li>Showcase fourteen tools and guidance documents, providing links and summaries to each of these</li>
            <li>Broadly assess your needs and limiations using a series of questions</li>
            <li>Make suggestions on those needs and limitations</li>
            <li>Be easily reset and adjusted for changing answers, allowing the user to explore many different paths
            </li>
            <li>Aim to provide access to as many resources as possible</li>
            <li>In the absence of the actual resource, provide links to publications outlining how they work and where
                they have succeeded historically</li>
            <li>Be a good starting point to those less familiar with the field</li>
        </ul>
        <p>This tool will not:</p>
        <ul>
            <li>Provide the definitive answer to any of the questions that are asked</li>
            <li>Conduct risk assessment in of itself</li>
            <li>Provide the definitive list of risk assessment tools and guidance documents</li>
            <li>Record any of the responses given by the user</li>
            <li>Show any risk assessment resources that are not related to the field of One-Health</li>
        </ul>
        <p>The tool is designed to be simple and user-friendly. Click anywhere in this box to get started!</p>




    </span>
</div>


<div class="footer">
    <p>This project has received funding from the European Unionâ€™s Horizon 2020 research and innovation programme under
        Grant Agreement No 773830.</p>
</div>

<div id="root">
    <h1 id="title"></h1>
    <div align="right">
        <button type="button" class="reset" onclick="reset()">Reset</button>
    </div>

    <div id="main"></div>
</div>
<table class="table" id="index"></table>
<p class="table" id="table1">
    Emerging threats are usually non-endemic diseases. This might be a known disease that is reappearing, or a
    previously untracked disease. Assessing the risk of disease spread is generic, and could apply to almost any risk.
    If you are unsure what category your risk question falls in to, then this is the option to choose. In assessing risk
    for policy, you are usually looking
    at an endemic disease, or at a stage in an outbreak where the risk is already known. These are conducted when
    decision-makers need to do something new, but do not know how this will affect the overall risk.
</p>
<table class="table" ; id="table2">

    <tr>
    <tr>
        <td>African Horse Sickness
        </td>
    </tr>
    <tr>
        <td>African Swine Fever
        </td>
    </tr>
    <tr>
        <td>Aino Disease
        </td>
    </tr>
    <tr>
        <td>Akabane Disease
        </td>
    </tr>
    <tr>
        <td>Alkhurma Hemorrhagic Fever
        </td>
    </tr>
    <tr>
        <td>Bhanja Virus Disease
        </td>
    </tr>
    <tr>
        <td>Bluetongue
        </td>
    </tr>
    <tr>
        <td>Bovine Ephemeral Fever
        </td>
    </tr>
    <tr>
        <td>Bunyamwera Fever
        </td>
    </tr>
    <tr>
        <td>Crimean-Congo Hemorrhagic fever
        </td>
    </tr>
    <tr>
        <td>Eastern Equine Encephalitus
        </td>
    </tr>
    <tr>
        <td>Epizootic Hemorrhagic Disease
        </td>
    </tr>
    <tr>
        <td>Equine Encephalosis
        </td>
    </tr>
    <tr>
        <td>Getah Virus Disease
        </td>
    </tr>
    <tr>
        <td>Heartwater
        </td>
    </tr>
    <tr>
        <td>Hepatozoonosis
        </td>
    </tr>
    <tr>
        <td>Highlands J. Virus Disease
        </td>
    </tr>
    <tr>
        <td>Japanese Encephalitis
        </td>
    </tr>
    <tr>
        <td>Clinical Bovine Ephemeral Fever
        </td>
    </tr>
    <tr>
        <td>Leishmaniasis
        </td>
    </tr>
    <tr>
        <td>Equine Encephomyelitis
        </td>
    </tr>
    <tr>
        <td>Eastern Equine Encephalitis
        </td>
    </tr>
    <tr>
        <td>Nairobi Sheep Disease
        </td>
    </tr>
    <tr>
        <td>Chuzan Disease
        </td>
    </tr>
    <tr>
        <td>Peruvian Horse Sickness
        </td>
    </tr>
    <tr>
        <td>Rift Valley Fever
        </td>
    </tr>
    <tr>
        <td>Saint Louis Encephalitis
        </td>
    </tr>
    <tr>
        <td>Schmallenberg Virus
        </td>
    </tr>
    <tr>
        <td>Shuni Virus Disease
        </td>
    </tr>
    <tr>
        <td>Thogoto Virus Disease
        </td>
    </tr>
    <tr>
        <td>Venezuelan Equine Encephalitis
        </td>
    </tr>
    <tr>
        <td>Vesicular Stomatitis
        </td>
    </tr>
    <tr>
        <td>Wesselbron Virus Disease
        </td>
    </tr>
    <tr>
        <td>West Nile Fever
        </td>
    </tr>
    <tr>
        <td>Western Equine Encephalitis
        </td>
    </tr>
    <tr>
        <td>Yunnan Orbivirus Disease
        </td>
    </tr>
    <tr>
        <td>High Pathogenicity Avian influenza
        </td>
    </tr>
    <tr>
        <td>Newcastle Disease
        </td>
    </tr>
    <tr>
        <td>Low Pathogenicity Avian Influenza
        </td>
    </tr>
    <tr>
        <td>Bluetongue
        </td>
    </tr>
    <tr>
        <td>Classical Swine fever
        </td>
    </tr>
    </tr>
    </tr>
</table>
<table class="table" id="table3">

    <tr>
    <tr>
        <td>Anisakidae and Anisakiasis
        </td>
    </tr>
    <tr>
        <td>Ascaris spp.
        </td>
    </tr>
    <tr>
        <td>Blantidium coli
        </td>
    </tr>
    <tr>
        <td>Cryptosporidiosis
        </td>
    </tr>
    <tr>
        <td>Diphyllobothrium spp.
        </td>
    </tr>
    <tr>
        <td>Echinococcus granulosus
        </td>
    </tr>
    <tr>
        <td>Echinococcus multicularis
        </td>
    </tr>
    <tr>
        <td>Entamoeba hystolytica
        </td>
    </tr>
    <tr>
        <td>Fasciola spp.
        </td>
    </tr>
    <tr>
        <td>Giardia duodenalis
        </td>
    </tr>
    <tr>
        <td>Heterophidae and Heterophidiasis
        </td>
    </tr>
    <tr>
        <td>Opsthorchidae
        </td>
    </tr>
    <tr>
        <td>Paragonimus spp.
        </td>
    </tr>
    <tr>
        <td>Sarcocystis spp.
        </td>
    </tr>
    <tr>
        <td>Spirometra spp.
        </td>
    </tr>
    <tr>
        <td>Taenia saginata
        </td>
    </tr>
    <tr>
        <td>Taenia solium
        </td>
    </tr>
    <tr>
        <td>Toxicara spp.
        </td>
    </tr>
    <tr>
        <td>Toxoplasma gondii
        </td>
    </tr>
    <tr>
        <td>Trichinella spp. Other than T.spiralis
        </td>
    </tr>
    <tr>
        <td>Trichinella spiralis
        </td>
    </tr>
    <tr>
        <td>Tichuris trichiura
        </td>
    </tr>
    <tr>
        <td>Trypanosoma cruzi
        </td>
    </tr>
    </tr>
</table>
<table class="table" id="table4">

    <tr>
    <tr>
        <td>African Swine fever
        </td>
    </tr>
    <tr>
        <td>Aujesky's disease
        </td>
    </tr>
    <tr>
        <td>Avian Influenza
        </td>
    </tr>
    <tr>
        <td>Bluetongue
        </td>
    </tr>
    <tr>
        <td>Classical Swine Fever
        </td>
    </tr>
    <tr>
        <td>Equine Viral Arteritis
        </td>
    </tr>
    <tr>
        <td>Foot-and-Mouth Disease
        </td>
    </tr>
    <tr>
        <td>Rabies
        </td>
    </tr>
    <tr>
        <td>West Nile Fever
        </td>
    </tr>
    <tr>
        <td>Bovine Spongiform Encephalopathy
        </td>
    </tr>
    <tr>
        <td>Bovine Tuberculosis
        </td>
    </tr>
    <tr>
        <td>BVD
        </td>
    </tr>
    <tr>
        <td>Campylobacteriosis
        </td>
    </tr>
    <tr>
        <td>Equine Influenza
        </td>
    </tr>
    <tr>
        <td>Foot Rot
        </td>
    </tr>
    <tr>
        <td>PMWS
        </td>
    </tr>
    <tr>
        <td>Salmonella spp.
        </td>
    </tr>
    <tr>
        <td>Toxoplasmosis (cats)
        </td>
    </tr>
    <tr>
        <td>Toxoplasmosis (sheep)
        </td>
    </tr>
    <tr>
        <td>VTEC
        </td>
    </tr>
    <tr>
        <td>Lameness
        </td>
    </tr>
    <tr>
        <td>Sow Crates
        </td>
    </tr>
    </tr>
</table>




<style>
    body {
        font-family: sans-serif;
        background-color: #cfe0e8;
    }

    h1 {
        margin-left: 0.2em;
    }

    /* Three image containers (use 25% for four, and 50% for two, etc) */
    .column {
        float: left;
        width: 30%;
        padding: 5px;
    }

    /* Clear floats after image containers */
    .row::after {
        content: "";
        clear: both;
        display: table;
    }

    .footer {
        position: fixed;
        left: 0;
        top: 3000;
        bottom: 0;
        width: 100%;
        height: 2.5rem;
        background-color: orange;
        color: black;
        text-align: center;
    }

    /* Popup container */
    .popup {
        position: absolute;
        left: 550px;
        top: 550px;
        display: inline-block;
        cursor: pointer;
        background-color: tomato;
        border: 1px solid sienna;
        border-radius: 6px;
        padding: 10px;
    }

    .link {
        padding: 10px;
        display: block;
        margin-top: 5px;
        color: #4B6C86;
        text-decoration: underline;

    }

    ul {
        list-style-position: outside;
    }

    li {
        list-style-position: outside;
    }

    h1 {
        margin-left: 10px;
        text-align: center;
    }

    h2 {
        margin-left: 10px;
        text-align: center;
    }

    p {
        margin-left: 10px;
    }

    /* The actual popup (appears on top) */
    .popup .popuptext {
        visibility: visible;
        width: 900px;
        height: 500px;
        background-color: #555;
        color: #fff;
        text-align: left;
        border-radius: 6px;
        padding: 8px 0;
        position: absolute;
        z-index: 1;
        bottom: 125%;
        left: 10%;
        margin-left: -500px;
        overflow: scroll;
    }

    #approach {
        font-size: 16px;
    }

    #exhead {
        font-size: 14px;
        font-weight: bold;
    }

    #exhead:hover {
        color: black
    }

    /* Toggle this class when clicking on the popup container (hide and show the popup) */
    .popup .show {
        visibility: hidden;
        -webkit-animation: fadeIn 1s;
        animation: fadeIn 1s
    }

    .popup .show {
        visibility: hidden;
        -webkit-animation: fadeIn 1s;
        animation: fadeIn 1s
    }

    /* Add animation (fade in the popup) */
    @-webkit-keyframes fadeIn {
        from {
            opacity: 0;
        }

        to {
            opacity: 1;
        }
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
        }

        to {
            opacity: 1;
        }
    }


    .table {
        width: 500px;
        height: 400px;
        overflow: scroll;
        display: none;
        background-color: #EEE;
        position: absolute;
        left: 520px;
        top: 138px
    }

    div#root,
    div#notes {
        max-width: 30em;
        background-color: #EEE;
        border: 1px solid #DDD;
        padding: 0.3em;
        padding-bottom: 5rem;
        padding-right: 2em;


    }

    div.buttons {
        background: #CCC;
        border: 1px solid #BBB;
        padding: 0.2em;
        margin: 0.1em;
        margin-bottom: 0.5em;
    }

    button {
        padding: 0.1em 0.4em;
        margin: 0.2em;
        display: block;
        font-family: helvetica;
        font-size: 16px;
        font-weight: 100;
        text-align: left;
        color: #fff;
        background: #688296;
        border: 1px solid #555;
        font-weight: 100;
        cursor: pointer;
    }

    button:hover {
        background: #4B6C86;
        border: 1px solid #000;
    }

    button.selected {
        background: #363;
    }

    button.reset {
        font-size: 75%;
        background: #a33;
    }

    button.reset:hover {
        background: #C33
    }

    #T1button {
        position: absolute;
        left: 500px;
        top: 10px;
    }

    #T2button {
        position: absolute;
        left: 570px;
        top: 10px;
    }

    #T3button {
        position: absolute;
        left: 640px;
        top: 10px;
    }

    #T4button {
        position: absolute;
        left: 710px;
        top: 10px;
    }

    #T5button {
        position: absolute;
        left: 780px;
        top: 10px;
    }

    table {
        position: absolute;
        left: 500px;
        top: 40px;
        padding: 10px;
        border: 1px solid black;
    }

    tr {
        border: 1px solid black;
    }

    td {
        border: 1px solid black;
    }

    a.link {
        color: blue;
        background: palegoldenrod;
        text-decoration: underline;
    }

    a:visited {
        color: black;
        text-decoration: none;
    }

    a:hover {
        color: hotpink;
        text-decoration: none;
    }

    a:active {
        text-decoration: none;
    }
</style>


<script type="text/javascript">
    let main = document.getElementById("main");
    let rootData = getData();
    let toolData = getTools();
    // passes the whole data structure through the script 
    document.getElementById("title").innerText = rootData.title
    askQuestion(rootData);


    let index = document.getElementById("index");
    toolData.tools.forEach(function (object) {
        let tr = document.createElement("tr");
        tr.innerHTML = '<td href =' + object.link + '>' + object.approach + '</td>' +
            '<td>' + object.info + '</td>';
        tr.setAttribute("border", "solid")
        index.appendChild(tr);
    });



    // attributes a level to the question asked, level 0 being the default, the root of the tree
    function askQuestion(subTree, levelIdx = 0) {
        let levelDiv = document.createElement("div");
        levelDiv.setAttribute("id", "Div1");
        levelDiv.className = "level";
        levelDiv.id = levelIdx;
        main.appendChild(levelDiv);
        //if there is an outcome there will be no more questions, otherwise questions will feed in
        if (subTree.hasOwnProperty('outcomes')) {
            hideAllLists()

            subTree.outcomes.forEach(outcome => {
                var toolElement = getToolByName(toolData.tools, outcome) // look up by name in the tools data set
                var nameElement = toolElement.name
                var linkdata = toolElement.link



                //var linkElement = document.createElement("a") // attach href-link element 
                //linkElement.href = toolElement.link
                //linkElement.target = "_.blank"
                //linkElement.text = toolElement.name
                if (toolElement.hasOwnProperty('approach')) {
                    var approachname = document.createElement("h1")
                    approachname.id = "approach"
                    approachname.innerHTML = toolElement.approach
                    levelDiv.appendChild(approachname)
                }

                if (toolElement.hasOwnProperty('info')) {                                               // only attach the "info" if it exists
                    var infoPara = document.createElement("P")
                    infoPara.innerText = toolElement.info
                    levelDiv.appendChild(infoPara)

                    //levelDiv.appendChild(linkElement);
                    // levelDiv.appendChild(document.createElement("p")); // add some space between different outcomes


                }
                if (toolElement.hasOwnProperty("name")) {
                    var exheading = document.createElement("a")
                    exheading.id = "exhead"
                    exheading.innerText = "Examples:"
                    levelDiv.appendChild(exheading)
                }

                var linkElement = "";
                for (var i = 0; i < nameElement.length; i++) {
                    linkElement = document.createElement("a")
                    linkElement.className = "link"
                    linkElement.innerHTML = nameElement[i]
                    linkElement.href = linkdata[i]
                    linkElement.target = "_.blank"
                    levelDiv.appendChild(linkElement);
                }
            })
        }
        else {
            if (subTree.hasOwnProperty('actions')) {
                hideAllLists()
                var scriptElement = document.createElement("script")
                scriptElement.text = subTree.actions
                levelDiv.appendChild(scriptElement)
            } else { hideAllLists() }
            levelDiv.appendChild(document.createTextNode(subTree.question));
            showOptions();
        }

        //creates the responses panel
        function showOptions() {
            let responsePanel = document.createElement("div");
            responsePanel.className = "buttons";
            levelDiv.appendChild(responsePanel);
            //creates a button with the answers on
            subTree.responses.forEach(response => {
                let btn = document.createElement("button");
                btn.type = "button";
                btn.innerHTML = response.answer;
                //Removes any questions after a given point should you go back and click on a different answer to previously
                //Also will add the next level question below using askQuestion function
                //Also will remove the selected formatting should a different option be taken to before.
                btn.onclick = () => {
                    removeDescendantsOf(levelIdx);
                    askQuestion(response, levelIdx + 1);
                    responsePanel
                        .querySelectorAll("button")
                        .forEach(b => {
                            if (b == btn) b.className = "selected"
                            else b.classList.remove("selected")
                        });
                }
                responsePanel.appendChild(btn);
            })
        }
    }

    function removeDescendantsOf(levelIdx) {
        let len = main.childNodes.length;

        [...main.querySelectorAll("div.level")]
            .filter(d => d.id > levelIdx)
            .forEach(d => main.removeChild(d));
    }

    function reset() {
        removeDescendantsOf(0);
        main.querySelectorAll("button")
            .forEach(b => b.classList.remove("selected"));
        hideAllLists();
        showindex();
    }

    function hideAllLists() {
        document.getElementById("index").style.display = "none";
        document.getElementById("table1").style.display = "none";
        document.getElementById("table2").style.display = "none";
        document.getElementById("table3").style.display = "none";
        document.getElementById("table4").style.display = "none";
    }

    function show1() {
        document.getElementById("table1").style.display = "block";
    }
    function show2() {
        document.getElementById("table2").style.display = "block";
    }
    function show3() {
        document.getElementById("table3").style.display = "block";
    }
    function show4() {
        document.getElementById("table4").style.display = "block";
    }
    function showindex() {
        document.getElementById("index").style.display = "block";
    }


    function caveats_func() {
        var popup = document.getElementById("myPopup");
        popup.classList.toggle("show");
    }
    function getData() {
        return {
            "title": "EJP Decision Support Tool",
            "question": "[TIME AVAILABLE] What timeframe do you have to complete the risk assessment?",
            "actions": "showindex()",
            "responses": [
                {
                    "answer": "Long (>4 weeks)",
                    "question": "[OUTPUT TYPE] What outcome do you require for your risk assessment?",
                    "responses": [
                        {
                            "answer": "Disease prioritisation",
                            "question": "[GEO-SPECIFICITY] At what geographic level is your risk question?",
                            "responses": [
                                {
                                    "answer": "Multi-Country",
                                    "outcomes": [
                                        "Continent-wide or global disease prioritsation"
                                    ]
                                },
                                {
                                    "answer": "Single Country",
                                    "outcomes": [
                                        "National-level disease prioritisation"
                                    ]
                                },
                                {
                                    "answer": "Regional",
                                    "outcomes": [
                                        "Regional disease prioritisation"
                                    ]
                                },
                                {
                                    "answer": "Single premisis/process",
                                    "outcomes": [
                                        "Prioritisation for individual premises or processes (holding/hospital/trust/land-area etc.)"
                                    ]
                                }
                            ]
                        },
                        {
                            "answer": "Full risk assessment",
                            "question": "[DATA] What level of data do you have available?",
                            "responses": [
                                {
                                    "answer": "Low, limited circumstantial and expert opinion",
                                    "question": "[EVENT] What best describes your risk question?",
                                    "actions": "show1()",
                                    "responses": [
                                        {
                                            "answer": "Assessment of emerging disease threat",
                                            "outcomes": [
                                                "Assessing emerging threats"
                                            ]
                                        },
                                        {
                                            "answer": "Assessment of disease spread",
                                            "outcomes": [
                                                "Qualitative risk assessment"
                                            ]
                                        },
                                        {
                                            "answer": "Assessment to inform a policy or practice",
                                            "outcomes": [
                                                "Risk assessment for policy"
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "answer": "Medium, including some trade and disease-specific data",
                                    "question": "[EXPERTISE] What level of experience with mathematical approaches to risk assessment?",
                                    "responses": [
                                        {
                                            "answer": "Zero",
                                            "question": "[EVENT] What best describes your risk question?",
                                            "actions": "show1()",
                                            "responses": [
                                                {
                                                    "answer": "Assessment of emerging disease threat",
                                                    "outcomes": [
                                                        "Assessing emerging threats"
                                                    ]
                                                },
                                                {
                                                    "answer": "Assessment of disease spread",
                                                    "outcomes": [
                                                        "Qualitative risk assessment"
                                                    ]
                                                },
                                                {
                                                    "answer": "Assessment to inform a policy or practice",
                                                    "outcomes": [
                                                        "Risk assessment for policy"
                                                    ]
                                                },
                                            ]
                                        },
                                        {
                                            "answer": "Low/Medium",
                                            "outcomes": [
                                                "Deterministic risk assessment"
                                            ]
                                        },
                                        {
                                            "answer": "High",
                                            "outcomes": [
                                                "Stochastic risk assessment in atRisk/Excel"
                                            ],
                                        }
                                    ]
                                },
                                {
                                    "answer": "High, including detailed disease data",
                                    "question": "[EXPERTISE] Do you have experience with mathematical approaches to risk assessment?",
                                    "responses": [
                                        {
                                            "answer": "Zero",
                                            "question": "[EVENT] What best describes your risk question?",
                                            "actions": "show1()",
                                            "responses": [
                                                {
                                                    "answer": "Assessment of emerging disease threat",
                                                    "outcomes": [
                                                        "Assessing emerging threats"
                                                    ]
                                                },
                                                {
                                                    "answer": "Assessment of disease spread",
                                                    "outcomes": [
                                                        "Qualitative risk assessment"
                                                    ]
                                                },
                                                {
                                                    "answer": "Assessment to inform a policy or practice",
                                                    "outcomes": [
                                                        "Risk assessment for policy"
                                                    ]
                                                },
                                            ]
                                        },
                                        {
                                            "answer": "Low-Medium",
                                            "outcomes": [
                                                "Deterministic risk assessment"
                                            ]
                                        },
                                        {
                                            "answer": "High",
                                            "question": "[EVENT] How detailed is the scope of the risk assessment?",
                                            "responses": [
                                                {
                                                    "answer": "Detailed, tracking the risk at multiple stages of a complex system over time",
                                                    "outcomes": [
                                                        "Bespoke modelling techniques"
                                                    ]
                                                },
                                                {
                                                    "answer": "Broad, to accurately define the overall risk through a system such as a country, region, or process",
                                                    "outcomes": [
                                                        "Stochastic risk assessment in atRisk/Excel"
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                },
                            ]
                        }
                    ]
                },
                {
                    "answer": "Medium (<2 weeks)",
                    "question": "[OUTPUT TYPE] What outcome do you require for your risk assessment?",
                    "responses": [
                        {
                            "answer": "Disease prioritisation",
                            "question": "[EVENT] The timeframe suits an off-the-shelf prioritisation tool, which of the following best describes your risk question?",
                            "responses": [
                                {
                                    "answer": "Prioritisation of vector-borne diseases, focussed on incursion risk",
                                    "outcomes": [
                                        "MINTRISK"
                                    ]
                                },
                                {
                                    "answer": "Prioritisation of a range of diseases based on parameterised by the user",
                                    "question": "[EVENT] Are you interested in prioritising the diseases in the following list?",
                                    "actions": "show2()",
                                    "responses": [
                                        {
                                            "answer": "yes",
                                            "outcomes": [
                                                "SPARE"
                                            ]
                                        },
                                        {
                                            "answer": "no",
                                            "outcomes": [
                                                "ECDC tool or ANSES tool for disease prioritisation"
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "answer": "Full risk assessment",
                            "question": "[DATA] What level of data do you have available?",
                            "responses": [
                                {
                                    "answer": "Low, limited circumstantial and expert opinion",
                                    "question": "[EVENT] What best describes your risk question?",
                                    "actions": "show1()",
                                    "responses": [
                                        {
                                            "answer": "Assessment of emerging disease threat",
                                            "outcomes": [
                                                "Assessing emerging threats"
                                            ]
                                        },
                                        {
                                            "answer": "Assessment of disease spread",
                                            "outcomes": [
                                                "Qualitative risk assessment"
                                            ]
                                        },
                                        {
                                            "answer": "Assessment to inform a policy or practice",
                                            "outcomes": [
                                                "Risk assessment for policy"
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "answer": "Medium, including some trade and disease-specific data",
                                    "question": "[EXPERTISE] What level of experience with mathematical approaches to risk assessment?",
                                    "responses": [
                                        {
                                            "answer": "Zero",
                                            "question": "[EVENT] What best describes your risk question?",
                                            "actions": "show1()",
                                            "responses": [
                                                {
                                                    "answer": "Assessment of emerging disease threat",
                                                    "outcomes": [
                                                        "Assessing emerging threats"
                                                    ]
                                                },
                                                {
                                                    "answer": "Assessment of disease spread",
                                                    "outcomes": [
                                                        "Qualitative risk assessment"
                                                    ]
                                                },
                                                {
                                                    "answer": "Assessment to inform a policy or practice",
                                                    "outcomes": [
                                                        "Risk assessment for policy"
                                                    ]
                                                },
                                            ]
                                        },
                                        {
                                            "answer": "Low/Medium",
                                            "outcomes": [
                                                "Deterministic risk assessment"
                                            ]
                                        },
                                        {
                                            "answer": "High",
                                            "outcomes": [
                                                "Stochastic risk assessment in atRisk/Excel"
                                            ],
                                        }
                                    ]
                                },
                                {
                                    "answer": "High, including detailed disease data",
                                    "question": "[EXPERTISE] What level of experience do you have with mathematical approaches to risk assessment?",
                                    "responses": [
                                        {
                                            "answer": "Zero",
                                            "question": "[EVENT] What best describes your risk question?",
                                            "actions": "show1()",
                                            "responses": [
                                                {
                                                    "answer": "Assessment of emerging disease threat",
                                                    "outcomes": [
                                                        "Assessing emerging threats"
                                                    ]
                                                },
                                                {
                                                    "answer": "Assessment of disease spread",
                                                    "outcomes": [
                                                        "Qualitative risk assessment"
                                                    ]
                                                },
                                                {
                                                    "answer": "Assessment to inform a policy or practice",
                                                    "outcomes": [
                                                        "Risk assessment for policy"
                                                    ]
                                                },
                                            ]
                                        },
                                        {
                                            "answer": "Low-Medium",
                                            "outcomes": [
                                                "Deterministic risk assessment"
                                            ]
                                        },
                                        {
                                            "answer": "High",
                                            "outcomes": [
                                                "Stochastic risk assessment in atRisk/Excel"
                                            ],
                                        }
                                    ]
                                },
                            ]
                        }
                    ]
                },
                {
                    "answer": "Short (<1 week)",
                    "question": "[OUTPUT TYPE] What outcome do you require for your risk assessment?",
                    "responses": [
                        {
                            "answer": "Disease prioritisation",
                            "question": "[EVENT] The timeframe suits an off-the-shelf prioritisation tool, which of the following best describes your risk question?",
                            "responses": [
                                {
                                    "answer": "Prioritisation of vector-borne diseases, focussed on incursion risk",
                                    "outcomes": [
                                        "MINTRISK"
                                    ]
                                },
                                {
                                    "answer": "Prioritisation of a range of diseases parameterised by the user",
                                    "question": "[EVENT] Are you interested in prioritising the diseases in the following list?",
                                    "actions": "show2()",
                                    "responses": [
                                        {
                                            "answer": "yes",
                                            "outcomes": [
                                                "SPARE"
                                            ]
                                        },
                                        {
                                            "answer": "No",
                                            "outcomes": [
                                                "ECDC tool or ANSES tool for disease prioritisation"
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "answer": "Full risk assessment",
                            "question": "[EVENT] What best describes your risk question?",
                            "actions": "show1()",
                            "responses": [
                                {
                                    "answer": "Emerging disease threat",
                                    "outcomes": [
                                        "Assessing emerging threats"
                                    ]
                                },
                                {
                                    "answer": "Assessment of disease spread",
                                    "outcomes": [
                                        "Qualitative risk assessment"
                                    ]
                                },
                                {
                                    "answer": "Assessment to inform a policy or practice",
                                    "outcomes": [
                                        "Risk assessment for policy"
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    }
    function getToolByName(tools, approach) {
        var found = null;

        for (var i = 0; i < tools.length; i++) {
            var element = tools[i];

            if (element.approach == approach) {
                found = element;
                break;
            }
        }

        return found;
    }

    function getTools() {
        return {
            "tools":
                [
                    {
                        "approach": "Continent-wide or global disease prioritsation",
                        "name": ["WHO prioritisation for R&D"],
                        "link": ["https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6106429/"],
                        "info": "These are high-level disease prioritisation activities. They could be employed by International control centres, like the ECDC or WHO. An example of this form of prioritisation could be in aid administration. A country could use these high-level prioritisation practices to determine where to administer aid and against what diseases. They can also be used to monitor spread of large epidemics. The WHO example below provides one such framework to prioritise diseases based on where they need research and development activities. Building a tool like this is usually done in Excel, with a scoring system that compounds risks for each disease in to a final score, used to rank them."
                    },
                    {
                        "approach": "National-level disease prioritisation",
                        "name": ["IDM risk of incursion tool", "Review of prioritisation tools", "Stakeholder-informed zoonotic prioritisation in Canada", "Zoonotic disease prioritisation in Kenya"],
                        "link": ["https://www.researchgate.net/publication/51084035_Assessing_the_risk_of_disease_introduction_in_imports/link/5b2fe590a6fdcc8506cb827a/download", "https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7039936/", "https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0029752", "https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0161576"],
                        "info": "Disease prioritisation at the national level assesses the threat of different diseases on a country and ranks them in order of severity. Depending on the situation, these could be rankings based on their effect against public and veterinary health, but also on trade and social metrics. They could also measure the risk of incursion, as mentioned in the first example below. The second example reviews a number of such tools to describe what is needed to build one. Usually they are built in Excel, but languages like R can be used too. Building prioritisation tools like this relies on good prevalence, trade and transmission data for the diseases you are prioritising. In the absence of this, survey of expert opinion is usually a sound alternative, though this will increase uncertainty."
                    },
                    {
                        "approach": "Regional disease prioritisation",
                        "name": ["Localised One-Health disease prioritisation in India", "Stakeholder opinion in prioritisation in Quebec"],
                        "link": ["https://www.wecr.wur.nl/mintrisk/", "https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0190049"],
                        "info": "Large countries, especially with decentralised public/veterinary health authorities, may choose to conduct prioritisation at the regional level. There may also be, as in the first example below, elements of local geography that would affect disease spread. Local-level data is often harder to come by, so paramaterisation may favour a survey of expert opinion. The second example, while not a prioritisation in of itself, shows how different stakeholder opinions can affect the ranking of diseases. This is worth considering when conducting prioritisation at the local level."
                    },
                    {
                        "approach": "Prioritisation for individual premises or processes (holding/hospital/trust/land-area etc.)",
                        "name": ["Prioritisation framework English primary care trust", "Cost-benefit assessment in UK pig industry"],
                        "link": ["https://link.springer.com/article/10.1186/1478-7547-4-3", "https://www.sciencedirect.com/science/article/pii/S0167587717308462"],
                        "info": "At this level, prioritisation ties in much more closely with mitigation strategies. How the disease will affect a given area, will help to better understand how to manage day-to-day activities in that area. This links to cost, and may serve as a cost-benefit analysis, as in the first example. There are few examples of this prioritisation in action. You can create prioritisation at a single-premises level by applying the same principles as global, national, and regional frameworks, but with data that applies to that farm. This may require independent investigation of biosecure practice on the premisis. The effectiveness of various strategies through a process may also be found through cost-benefit assessment. One such example is listed."
                    },
                    {
                        "approach": "Assessing emerging threats",
                        "name": ["Horizon scanning in fishery products", "Global-level horizon scanning", "HAIRS Qualitative RA framework", "HAIRS in action", "OIE qualitative risk assessment framework"],
                        "link": ["https://www.sciencedirect.com/science/article/pii/S0956713513004519", "https://www.sciencedirect.com/science/article/pii/S0169534717302896", "https://assets.publishing.service.gov.uk/government/uploads/system/uploads/attachment_data/file/761106/HAIRS_risk_assessment_processes.pdf", "https://pubmed.ncbi.nlm.nih.gov/19538820/", "http://www.rr-africa.oie.int/docspdf/en/2018/SIT/Handbook_on_Import_Risk_Analysis_-_OIE_-_Vol__I.pdf"],
                        "info": "Low data is a sign that the threat you are assessing may be emergent. In these cases, horizon scanning can be good approach to attributing a preliminary risk to this threat. Much of horizon scanning is actually compiling data. Searching for published material about the threat, interviewing experts and engaging industry practitioners. The fisheries example below explores this process in more detail. In your timesacele, you may want to follow horizon scanning with a qualitative risk assessment. The HAIRS framework is perfectly adapted for emerging threats, using an algorithmic approach to determine the risk level of a pathogen. The OIE qualitative risk assessment framework may also be useful",
                    },
                    {
                        "approach": "Risk assessment for policy",
                        "name": ["Scottish government licensing risk assessments", "Consultation on badger culling", "OIE qualitative risk assessment framework"],
                        "link": ["https://www.gov.scot/publications/foot-and-mouth-disease-veterinary-risk-assessments-vras/", "https://consult.defra.gov.uk/bovine-tb/badger-control-in-low-risk-area-england/supporting_documents/bovinetbconsultlicensecontrollraengland.pdf", "http://www.rr-africa.oie.int/docspdf/en/2018/SIT/Handbook_on_Import_Risk_Analysis_-_OIE_-_Vol__I.pdf"],
                        "info": "To completely mitigate spread of a disease, most legislation favours zero contact between infectious substances and susceptible species. But certain processes must continue to maintain food security and point-of-care treatment. Decision-makers therefore require exemptions from some legal requirements to be granted for essential services to be maintained. Risk assessments estimate the risk of these exemptions, and allow mitigations to be made to reduce those risks. Veterinary risk assessments, like those deployed in an outbreak of foot-and-mouth disease, are prime examples of this. Another might be a change in long-term control strategy of an indemic disease, such as badger culling to prevent TB. The second example provides an idea of how a consultation on a policy change might be carried out, though this will have been accompanied by a full risk assessment. The OIE qualitative risk assessment framework is a good to base any such risk assessment."
                    },
                    {
                        "approach": "Qualitative risk assessment",
                        "name": ["OIE qualitative risk assessment framework", "RVF risk assessment EU", "RVF risk assessment UK", "Foot-and-mouth Spain"],
                        "link": ["http://www.rr-africa.oie.int/docspdf/en/2018/SIT/Handbook_on_Import_Risk_Analysis_-_OIE_-_Vol__I.pdf", "https://efsa.onlinelibrary.wiley.com/doi/full/10.2903/j.efsa.2020.6093#:~:text=Rift%20Valley%20fever%20(RVF%20)%20is,genus%2C%20to%20animals%20and%20humans.&text=The%20only%20identified%20pathways%20for,airplanes%20or%20by%20wind%20currents.", "https://assets.publishing.service.gov.uk/government/uploads/system/uploads/attachment_data/file/902415/poa-rvf-mayotte.pdf", "https://www.sciencedirect.com/science/article/pii/S0167587708000627"],
                        "info": "These risk assessments could apply to any scenario. Most methods stem in some way from the OIE qualitative risk assessment handbook, with the a risk > exposure > consequence format. Steps involve: establishing a risk question, drawing a risk pathway, and estimating the risks of each segment of the pathway. From this, an overall risk can be determined. This can be at multiple levels. An EFSA risk assessment and a UK risk assessment of the same threat are listed below for comparison. Both are concerned with risk of incursion."
                    },
                    {
                        "approach": "Deterministic risk assessment",
                        "name": ["OIE quantitative risk assessment framework", "Risk to animals from catering waste"],
                        "link": ["https://www.oie.int/doc/ged/D11250.PDF", "https://www.researchgate.net/publication/8399223_Risk_to_farm_animals_from_pathogens_in_composted_catering_waste_containing_meat/link/00b7d537328d24b378000000/download"],
                        "info": "With reasonable data, and some experience of mathematical methods, this may be a good option. For example, you can plot the number of infected in a given population, where a disease is endemic use this to establish a prevalence using simple linear regression (by plotting this on a graph and taking the gradient of the line between that point and the origin). Prevalence can then be used to estimate the probability of transmission. If baseline prevalence is 1 in 10 become, the probability of infection is 1/10. Given exposure rate to a new population, this can provide the risk of transmission between the two. OIE quantitative risk assessment guidance (below) has a section on this. Common formats include Excel and R."
                    },
                    {
                        "approach": "Stochastic risk assessment in atRisk/Excel",
                        "name": ["OIE quantitative risk assessment framework", "Cattle foot diseases", "Optimising surveillance systems"],
                        "link": ["https://www.oie.int/doc/ged/D11250.PDF", "https://www.sciencedirect.com/science/article/pii/S0022030210002456", "https://www.vetres.org/articles/vetres/pdf/2008/06/v08196.pdf"],
                        "info": "Stochastic refers to the process of randomly sampling from a probability distribution to determine risk. Rates of transmission could be an example, where the infections orrur at a rate of mean 0.4 per 10 exposed, with an uncertainty of 0.2. In this case, you can create a distribution with 0.2 to 0.6 forming  upper and lower quartiles of the peak, and 0.4 the maximum. Sampling from this is more likely to yield a transmission rate between 0.2 and 0.6 since these have a higher probability. Using this value, rather than a fixed value, integrates uncertainty in to the calculation and makes it truer to life. Several examples are listed for guidance and inspiration. Monte Carlo simulation is one key method of stochastic risk assessment. @Rsik is ideal for those with reasonable experience, as it integrates with spreadsheets in Excel. Some examples of @Risk in use are below.",
                    },
                    {
                        "approach": "Bespoke modelling techniques",
                        "name": ["Lumpy skin disease case study", "African Swine Fever spread", "AMR spread in a hospital setting"],
                        "link": ["https://onlinelibrary.wiley.com/doi/full/10.1111/tbed.12993", "https://www.sciencedirect.com/science/article/pii/S0167587712003650#sec0010", "https://www.sciencedirect.com/science/article/pii/S0924857999001351"],
                        "info": "Where the data and expertise are available, models can be tailored to virtually any system. Good knowledge of R, Python or Matlab is useful. The first step is understanding the risk question and the system you are modelling. In the Lumpy skin disease example, the goal was to map risk spatially. By looking at the system, you can identify the paramaters you need to set for the model to function. The relationships between these parameters can be defined by looking at data, and a formula can be written to define relationships between parameters. Then, raw data can be used to make risk predictions based on these mathematical relationships. Several examples below will describe how this process can be employed for different systems."
                    },
                    {
                        "approach": "MINTRISK",
                        "name": ["MINTRISK", "MINTRISK in action"],
                        "link": ["https://www.wecr.wur.nl/mintrisk/", "https://www.researchgate.net/profile/H_J_W_Herman-Roermund/publication/301230446_Risk_assessment_of_seven_vector-borne_animal_diseases_for_the_Netherlands_a_structured_approach/links/5d2d736f92851cf4408723d8/Risk-assessment-of-seven-vector-borne-animal-diseases-for-the-Netherlands-a-structured-approach.pdf"],
                        "info": "Standing for 'Method for INTegrated RISK assessment', this tool specialises in vector borne animal diseases. The disease risks are kept up to date, making it, of the off-the-shelf tools available, among the more reliable. The risk estimation is optimised for disease incursion in to and transfer between European countries, ranking the peramaterised diseases in terms of risk severity."
                    },
                    {
                        "approach": "SPARE",
                        "name": ["SPARE", "SPARE explanation"],
                        "link": ["https://spare-europe.shinyapps.io/Prioritising_livestock_diseases/", "https://www.researchgate.net/publication/332997045_A_spatial_risk_assessment_model_framework_for_incursion_of_exotic_animal_disease_into_the_European_Union_Member_States/link/5cebbe2c92851c4eabc178fe/download"],
                        "info": "This tool was designed to be a generic tool for disease risk estimation, built in a web-based app. This tool will be able to rank diseases based on a range of criteria. The 'weight' that you attribute to criteria, depending on their perceived importance, will affect the ranking of these diseases."
                    },
                    {
                        "approach": "ECDC tool or ANSES tool for disease prioritisation",
                        "name": ["ECDC tool", "ECDC Tool guidance", "Simplified generic prioritisation tool (France)"],
                        "link": ["https://ecdc.europa.eu/en/publications-data/ecdc-tool-prioritisation-infectious-disease-threats", "https://www.ecdc.europa.eu/sites/portal/files/documents/Tool-for-disease-priority-ranking_handbook_0_0.pdf", "https://www.anses.fr/en/content/two-tools-prioritising-animal-diseases-available-online"],
                        "info": "The ECDC tool will prioritise diseases based on criteria that you define youself and attribute weights to. In a seperate sheet it calculates the risk or impact of these criteria for a particular disease (also difined by the user) and ranks the diseases in terms of severity. The ANSES tool, in French, is another good way to estimate a large number of risks and impacts. It provides a numeric risk estimate, and uncertainty estimate. These tools perform basic prioritisation functions, but it is recommended that you do a qualitative risk assessment alongside."
                    },
                    {
                        "approach": "Simplified generic prioritisation tool (France)",
                        "name": ["Simplified generic prioritisation tool (France)"],
                        "link": ["https://www.anses.fr/en/content/two-tools-prioritising-animal-diseases-available-online"],
                        "info": "The tool is written by ANSES in French. It is a good way to estimate a large number of risks and impacts. This will provide a numeric risk estimate, and uncertainty estimate."
                    },
                    {
                        "approach": "Regional disease prioritisation",
                        "name": "Simplified generic prioritisation tool (France)",
                        "link": "https://www.anses.fr/en/content/two-tools-prioritising-animal-diseases-available-online",
                        "info": "The tool is written by ANSES in French. It is a good way to estimate a large number of risks and impacts. This will provide a numeric risk estimate, and uncertainty estimate."
                    },
                    {
                        "approach": "Regional disease prioritisation",
                        "name": "Simplified generic prioritisation tool (France)",
                        "link": "https://www.anses.fr/en/content/two-tools-prioritising-animal-diseases-available-online",
                        "info": "The tool is written by ANSES in French. It is a good way to estimate a large number of risks and impacts. This will provide a numeric risk estimate, and uncertainty estimate."
                    },
                    {
                        "approach": "Regional disease prioritisation",
                        "name": "Simplified generic prioritisation tool (France)",
                        "link": "https://www.anses.fr/en/content/two-tools-prioritising-animal-diseases-available-online",
                        "info": "The tool is written by ANSES in French. It is a good way to estimate a large number of risks and impacts. This will provide a numeric risk estimate, and uncertainty estimate."
                    },
                    {
                        "approach": "Regional disease prioritisation",
                        "name": "Simplified generic prioritisation tool (France)",
                        "link": "https://www.anses.fr/en/content/two-tools-prioritising-animal-diseases-available-online",
                        "info": "The tool is written by ANSES in French. It is a good way to estimate a large number of risks and impacts. This will provide a numeric risk estimate, and uncertainty estimate."
                    },
                ]
        }
    }
</script>
